Create a table:
create table emp (emp_id int, emp_spec xmltype);

Insert into emp values (1,xmltype('<?xml version="1.0"?>
<employee id="be130">
<firstname>William</firstname>
<lastname>Defoe</lastname>
<title>Accountant</title>
<division>Accts Payable</division>
<building>326</building>
<room>14a</room>
</employee>’));

Insert into emp values (2,xmltype('<?xml version="1.0"?>
<employee id="be129">
<firstname>Jane</firstname>
<lastname>Doe</lastname>
<title>Engineer</title>
<division>Materials</division>
<building>327</building>
<room>19</room>
<supervisor>be131</supervisor>
</employee>’));


Insert into emp values (3,xmltype('<?xml version="1.0"?>
<employee id="be129">
<firstname>Jane</firstname>
<lastname>Doe</lastname>
<title>Engineer</title>
<division>Materials</division>
<building>327</building>
<room>19</room>
<supervisor>be131</supervisor>
</employee>’));
 
Insert into emp values (4,xmltype('<?xml version="1.0"?>
<employee id="be132">
<firstname>Sandra</firstname>
<lastname>Rogers</lastname>
<title>Engineering</title>
<division>Materials</division>
<building>327</building>
<room>22</room>
</employee>’));

Insert into emp values (5,xmltype('<?xml version="1.0"?>
<employee id="be133">
<firstname>Steve</firstname>
<lastname>Casey</lastname>
<title>Engineering</title>
<division>Materials</division>
<building>327</building>
<room>24</room>
</employee>’));


Insert into emp values (6,xmltype('<?xml version="1.0"?>
<employee id="be135">
<firstname>Michelle</firstname>
<lastname>Michaels</lastname>
<title>COO</title>
<division>Management</division>
<building>216</building>
<room>264</room>
</employee>’));

select x.emp_spec.extract('//firstname/text() ').getStringVal() from emp x;

select x.emp_spec.extract('//firstname/text() ').getStringVal() emp_name, x.emp_spec.extract('//room/text()').getStringVal() room_No from emp x;

select x.emp_spec.extract('//firstname/text() ').getStringVal() emp_name, x.emp_spec.extract('//room/text()').getStringVal() room_No from emp x;

Update emp set emp_spec=xmltype('<?xml version="1.0"?>
<employee id="be135">
<firstname>NotMichelle</firstname>
<lastname>NotMichaels</lastname>
<title>COO</title>
<division>Management</division>
<building>216</building>
<room>264</room>
</employee>’) where emp_id=3;

Delete from emp where x.emp_spec.extract('//firstname/text() ').getStringVal() =”NotMichelle”;
